<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DCENT Blog Agent</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    // ì—¬ê¸°ì— DCENTBlogAgent.jsx ì½”ë“œ ì „ì²´ ë¶™ì—¬ë„£ê¸°
    const { useState, useEffect } = React;
    
    // [ì „ì²´ ì½”ë“œ...]
    import React, { useState, useEffect } from 'react';
import { FileText, CheckCircle, AlertCircle, ChevronRight, Lightbulb, Search, TrendingUp, Send, Download, Copy, Mail, Code, ArrowLeft, Globe, History, Trash2, Eye } from 'lucide-react';

const DCENTBlogAgent = () => {
  const [stage, setStage] = useState('input');
  const [topic, setTopic] = useState('');
  const [targetKeyword, setTargetKeyword] = useState('');
  const [audience, setAudience] = useState('ì¤‘ê¸‰ì (ì¤‘ê¸‰)');
  const [goal, setGoal] = useState('êµìœ¡');
  const [searchIntent, setSearchIntent] = useState('ì •ë³´ ê²€ìƒ‰ (How to)');
  const [length, setLength] = useState('1200');
  const [locale, setLocale] = useState('ko-KR');
  const [ctas, setCtas] = useState('1');
  const [tone, setTone] = useState('ì „ë¬¸ì ì´ë©´ì„œ ì¹œê·¼í•œ');
  const [includeImages, setIncludeImages] = useState(true);
  const [brief, setBrief] = useState(null);
  const [draft, setDraft] = useState(null);
  const [seoOutput, setSeoOutput] = useState(null);
  const [loading, setLoading] = useState(false);
  const [loadingProgress, setLoadingProgress] = useState(0);
  const [loadingMessage, setLoadingMessage] = useState('');
  const [activityLog, setActivityLog] = useState([]);
  const [feedback, setFeedback] = useState('');
  const [exportFormat, setExportFormat] = useState('shopify');
  const [revisionCount, setRevisionCount] = useState({ brief: 0, draft: 0 });
  const [translations, setTranslations] = useState({});
  const [translatingLang, setTranslatingLang] = useState(null);
  const [validationResult, setValidationResult] = useState(null);
  const [validating, setValidating] = useState(false);

  useEffect(() => {
    const style = document.createElement('style');
    style.textContent = `
      select option {
        background-color: #1e293b !important;
        color: white !important;
        padding: 8px !important;
      }
      select option:hover {
        background-color: #334155 !important;
      }
    `;
    document.head.appendChild(style);
    return () => document.head.removeChild(style);
  }, []);

  const addLog = (message, type = 'info') => {
    const timestamp = new Date().toLocaleTimeString('ko-KR');
    setActivityLog(prev => [...prev, { message, type, timestamp }]);
  };

  const validateWithAI = async (stage, content) => {
    setValidating(true);
    setValidationResult(null);
    setLoadingProgress(0);
    setActivityLog([]);
    addLog('ğŸ” AI SEO ì „ë¬¸ê°€ ê²€ì¦ ì‹œì‘', 'start');

    try {
      const progressInterval = setInterval(() => {
        setLoadingProgress(prev => Math.min(prev + Math.random() * 10, 90));
      }, 400);

      let validationPrompt = '';
      
      if (stage === 'brief') {
        addLog('ğŸ“‹ ë¸Œë¦¬í”„ SEO ì „ëµ ë¶„ì„ ì¤‘...', 'process');
        validationPrompt = `ë‹¹ì‹ ì€ SEO ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ ë¸Œë¦¬í”„ë¥¼ ê²€ì¦í•˜ì„¸ìš”:

${content}

**ê²€ì¦ í•­ëª©:**

1. **í‚¤ì›Œë“œ ì „ëµ (0-100ì )**
   - íƒ€ê²Ÿ í‚¤ì›Œë“œê°€ ëª…í™•íˆ ì •ì˜ë˜ì—ˆëŠ”ê°€?
   - LSI í‚¤ì›Œë“œê°€ 3-5ê°œ ì œì•ˆë˜ì—ˆëŠ”ê°€?
   - Long-tail í‚¤ì›Œë“œê°€ 3-5ê°œ ì œì•ˆë˜ì—ˆëŠ”ê°€?
   - í‚¤ì›Œë“œ ë°°ì¹˜ ì „ëµì´ êµ¬ì²´ì ì¸ê°€?

2. **Featured Snippet ìµœì í™” (0-100ì )**
   - Featured Snippet íƒ€ì…ì´ ê²€ìƒ‰ ì˜ë„ì— ì í•©í•œê°€?
   - ìµœì í™” í¬ë§·ì´ 40-60ë‹¨ì–´ë¡œ ëª…í™•í•œê°€?

3. **êµ¬ì¡° ì œì•ˆ (0-100ì )**
   - ê²€ìƒ‰ ì˜ë„ ê¸°ë°˜ êµ¬ì¡°ê°€ ë…¼ë¦¬ì ì¸ê°€?
   - H2/H3 ê³„ì¸µì´ ëª…í™•í•œê°€?
   - SEO ì¹œí™”ì ì¸ êµ¬ì¡°ì¸ê°€?

4. **ì „ì²´ ì™„ì„±ë„ (0-100ì )**
   - í•„ìˆ˜ ì„¹ì…˜ì´ ëª¨ë‘ í¬í•¨ë˜ì—ˆëŠ”ê°€?
   - ë¸Œëœë“œ ì›ì¹™ì´ ë°˜ì˜ë˜ì—ˆëŠ”ê°€?

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”:
{
  "scores": {
    "keyword_strategy": 85,
    "featured_snippet": 90,
    "structure": 80,
    "completeness": 88
  },
  "overall_score": 86,
  "strengths": ["ê°•ì  1", "ê°•ì  2"],
  "issues": [
    {"severity": "warning", "item": "ë¬¸ì œì ", "suggestion": "ê°œì„  ì œì•ˆ"},
    {"severity": "error", "item": "ë¬¸ì œì ", "suggestion": "ê°œì„  ì œì•ˆ"}
  ],
  "auto_feedback": "ìë™ ìƒì„±ëœ í”¼ë“œë°± í…ìŠ¤íŠ¸ (êµ¬ì²´ì ìœ¼ë¡œ)"
}`;
      } else if (stage === 'draft') {
        addLog('ğŸ“ ì´ˆì•ˆ í‚¤ì›Œë“œ ë°€ë„ ë¶„ì„ ì¤‘...', 'process');
        addLog('ğŸ¯ Featured Snippet ìµœì í™” ê²€í†  ì¤‘...', 'process');
        validationPrompt = `ë‹¹ì‹ ì€ SEO ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ ì´ˆì•ˆì„ ê²€ì¦í•˜ì„¸ìš”:

${content}

íƒ€ê²Ÿ í‚¤ì›Œë“œ: ${targetKeyword || '(ë¯¸ì§€ì •)'}
ê²€ìƒ‰ ì˜ë„: ${searchIntent}

**ê²€ì¦ í•­ëª©:**

1. **í‚¤ì›Œë“œ ìµœì í™” (0-100ì )**
   - H1ì— íƒ€ê²Ÿ í‚¤ì›Œë“œê°€ ìì—°ìŠ¤ëŸ½ê²Œ í¬í•¨ë˜ì—ˆëŠ”ê°€?
   - ì²« 100ë‹¨ì–´ ë‚´ í‚¤ì›Œë“œ ë°€ë„ (1-2% ê¶Œì¥)
   - í‚¤ì›Œë“œ ìŠ¤í„°í•‘ ì—†ì´ ìì—°ìŠ¤ëŸ¬ìš´ê°€?
   - LSI í‚¤ì›Œë“œê°€ H2/H3ì— ì ì ˆíˆ ë¶„ì‚°ë˜ì—ˆëŠ”ê°€?

2. **Featured Snippet ìµœì í™” (0-100ì )**
   - ì²« ë¬¸ë‹¨ì´ 40-60ë‹¨ì–´ì¸ê°€?
   - í•µì‹¬ ë‹µë³€ì´ ëª…í™•í•œê°€?
   - ê²€ìƒ‰ ì˜ë„ë¥¼ ì¶©ì¡±í•˜ëŠ”ê°€?

3. **ê°€ë…ì„± (0-100ì )**
   - í‰ê·  ë¬¸ì¥ ê¸¸ì´ (20ë‹¨ì–´ ê¶Œì¥)
   - ë‹¨ë½ êµ¬ì„± (3-5ë¬¸ì¥)
   - ì „ë¬¸ìš©ì–´ ì ì ˆì„±

4. **êµ¬ì¡° (0-100ì )**
   - H2/H3 ê³„ì¸µ êµ¬ì¡°
   - ê²€ìƒ‰ ì˜ë„ ê¸°ë°˜ êµ¬ì¡° ì í•©ì„±
   - CTA ë°°ì¹˜ ì ì ˆì„±

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”:
{
  "scores": {
    "keyword_optimization": 82,
    "featured_snippet": 90,
    "readability": 75,
    "structure": 88
  },
  "overall_score": 84,
  "keyword_density": "1.8%",
  "first_paragraph_words": 48,
  "avg_sentence_length": 18,
  "strengths": ["ê°•ì  1", "ê°•ì  2"],
  "issues": [
    {"severity": "warning", "item": "í‚¤ì›Œë“œ ë°€ë„", "location": "3ë²ˆì§¸ ë¬¸ë‹¨", "suggestion": "ì½œë“œì›”ë › 2íšŒ ì‚­ì œ"},
    {"severity": "error", "item": "ë¬¸ì œì ", "location": "ìœ„ì¹˜", "suggestion": "ê°œì„  ì œì•ˆ"}
  ],
  "auto_feedback": "ìë™ ìƒì„±ëœ í”¼ë“œë°± í…ìŠ¤íŠ¸ (êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ)"
}`;
      } else if (stage === 'seo') {
        addLog('ğŸ” ë©”íƒ€ë°ì´í„° ê²€ì¦ ì¤‘...', 'process');
        addLog('ğŸ“Š ì „ì²´ SEO í’ˆì§ˆ í‰ê°€ ì¤‘...', 'process');
        validationPrompt = `ë‹¹ì‹ ì€ SEO ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ SEO ìµœì í™” ê²°ê³¼ë¥¼ ê²€ì¦í•˜ì„¸ìš”:

${content}

**ê²€ì¦ í•­ëª©:**

1. **ë©”íƒ€ë°ì´í„° (0-100ì )**
   - Title ê¸¸ì´ (50-60ì ê¶Œì¥)
   - Description ê¸¸ì´ (150-160ì ê¶Œì¥)
   - í‚¤ì›Œë“œ í¬í•¨ ì—¬ë¶€

2. **í‚¤ì›Œë“œ ì „ëµ (0-100ì )**
   - ë©”ì¸/LSI/Long-tail í‚¤ì›Œë“œ ë¶„ì„ ì™„ì„±ë„
   - í‚¤ì›Œë“œ ë°€ë„ ì ì ˆì„±
   - Featured Snippet ìµœì í™”

3. **ë§í¬ ì „ëµ (0-100ì )**
   - ë‚´ë¶€ ë§í¬ ì œì•ˆ (3ê°œ ì´ìƒ ê¶Œì¥)
   - ì™¸ë¶€ ì¶œì²˜ ì œì•ˆ (E-A-T ê°•í™”)

4. **ê¸°ìˆ  SEO (0-100ì )**
   - êµ¬ì¡°í™”ëœ ë°ì´í„° ì œì•ˆ
   - ì´ë¯¸ì§€ ìµœì í™”
   - ê°€ë…ì„± ê°œì„  ì œì•ˆ

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”:
{
  "scores": {
    "metadata": 90,
    "keyword_strategy": 85,
    "link_strategy": 70,
    "technical_seo": 88
  },
  "overall_score": 83,
  "strengths": ["ê°•ì  1", "ê°•ì  2"],
  "issues": [
    {"severity": "warning", "item": "ë¬¸ì œì ", "suggestion": "ê°œì„  ì œì•ˆ"},
    {"severity": "error", "item": "ë¬¸ì œì ", "suggestion": "ê°œì„  ì œì•ˆ"}
  ],
  "auto_feedback": "ìë™ ìƒì„±ëœ í”¼ë“œë°± í…ìŠ¤íŠ¸"
}`;
      }

      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 2000,
          messages: [{
            role: 'user',
            content: validationPrompt
          }]
        })
      });

      clearInterval(progressInterval);
      setLoadingProgress(95);
      addLog('ğŸ“Š ê²€ì¦ ê²°ê³¼ ë¶„ì„ ì¤‘...', 'process');

      const data = await response.json();
      let resultText = data.content.find(c => c.type === 'text')?.text || '';
      
      // JSON ì¶”ì¶œ (ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ë¸”ë¡ ì œê±°)
      resultText = resultText.replace(/```json\n?/g, '').replace(/```\n?/g, '').trim();
      
      const validationData = JSON.parse(resultText);
      
      setLoadingProgress(100);
      addLog('âœ… ê²€ì¦ ì™„ë£Œ!', 'success');
      addLog(`ì¢…í•© ì ìˆ˜: ${validationData.overall_score}/100`, 'success');
      
      setValidationResult(validationData);
    } catch (err) {
      addLog('âŒ ì˜¤ë¥˜ ë°œìƒ: ' + err.message, 'error');
      alert('ê²€ì¦ ì¤‘ ì˜¤ë¥˜: ' + err.message);
    }
    
    setValidating(false);
    setLoadingProgress(0);
  };

  const applyAutoFeedback = () => {
    if (validationResult && validationResult.auto_feedback) {
      setFeedback(validationResult.auto_feedback);
      alert('âœ… ìë™ í”¼ë“œë°±ì´ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤. ì¬ìƒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.');
    }
  };

  const generateBrief = async () => {
    if (!topic.trim()) {
      alert('ì£¼ì œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
      return;
    }

    setLoading(true);
    setLoadingProgress(0);
    setLoadingMessage('ë¸Œë¦¬í”„ ìƒì„± ì¤€ë¹„ ì¤‘...');
    setActivityLog([]);
    setValidationResult(null); // ê²€ì¦ ê²°ê³¼ ì´ˆê¸°í™”
    addLog('ğŸš€ ë¸Œë¦¬í”„ ìƒì„± ì‹œì‘', 'start');
    addLog(`ğŸ“ ì£¼ì œ: ${topic}`, 'info');
    if (targetKeyword) addLog(`ğŸ¯ íƒ€ê²Ÿ í‚¤ì›Œë“œ: ${targetKeyword}`, 'info');
    addLog(`ğŸ‘¥ íƒ€ê²Ÿ: ${audience} / ëª©í‘œ: ${goal}`, 'info');
    addLog(`ğŸ” ê²€ìƒ‰ ì˜ë„: ${searchIntent}`, 'info');
    
    try {
      const progressInterval = setInterval(() => {
        setLoadingProgress(prev => {
          if (prev >= 90) return prev;
          return prev + Math.random() * 15;
        });
      }, 300);

      addLog('ğŸ¤– AI ëª¨ë¸ ì´ˆê¸°í™” ì¤‘...', 'process');
      await new Promise(resolve => setTimeout(resolve, 500));
      
      setLoadingMessage('AIê°€ ë¸Œë¦¬í”„ë¥¼ ì‘ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...');
      addLog('âœï¸ ë¸Œë¦¬í”„ êµ¬ì¡° ì„¤ê³„ ì¤‘...', 'process');
      addLog('ğŸ¯ í•µì‹¬ ë©”ì‹œì§€ ë„ì¶œ ì¤‘...', 'process');
      addLog('ğŸ” SEO í‚¤ì›Œë“œ ì „ëµ ìˆ˜ë¦½ ì¤‘...', 'process');
      
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 1500,
          messages: [{
            role: 'user',
            content: `ë‹¹ì‹ ì€ DCENT ì½œë“œì›”ë › ë¸”ë¡œê·¸ í¸ì§‘ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**ì²´í¬í¬ì¸íŠ¸ 1: ë¸Œë¦¬í”„ ìƒì„±**

ë³€ìˆ˜:
- Topic: ${topic}
- Target Keyword: ${targetKeyword || '(ë¯¸ì§€ì •)'}
- Audience: ${audience}
- Goal: ${goal}
- Search Intent: ${searchIntent}
- Length: ${length}ì
- Locale: ${locale}
- CTAs: ${ctas}ê°œ
- Tone: ${tone}
- Images: ${includeImages ? 'on' : 'off'}

ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë¸Œë¦¬í”„ë¥¼ ìƒì„±í•˜ì„¸ìš”:

## ë¸Œë¦¬í”„

### í•µì‹¬ ë©”ì‹œì§€ (1ë¬¸ì¥)
[ë…ìê°€ ì´ ê¸€ì—ì„œ ì–»ì„ í•µì‹¬ ê°€ì¹˜]

### íƒ€ê²Ÿ ë…ì
[êµ¬ì²´ì  í˜ë¥´ì†Œë‚˜: í˜„ì¬ ìƒí™©, ê³ ë¯¼, ë°°ê²½ì§€ì‹]

### SEO í‚¤ì›Œë“œ ì „ëµ
**ë©”ì¸ í‚¤ì›Œë“œ:** ${targetKeyword || '[ì£¼ì œ ê¸°ë°˜ ì œì•ˆ]'}
**LSI í‚¤ì›Œë“œ:** [ê´€ë ¨ ì˜ë¯¸ í‚¤ì›Œë“œ 3-5ê°œ]
**Long-tail í‚¤ì›Œë“œ:** [êµ¬ì²´ì  ê²€ìƒ‰ì–´ 3-5ê°œ]
**í‚¤ì›Œë“œ ë°°ì¹˜:**
- H1: [ë©”ì¸ í‚¤ì›Œë“œ í¬í•¨ ì œëª©]
- ì²« 100ë‹¨ì–´: [ìì—°ìŠ¤ëŸ½ê²Œ ë©”ì¸ í‚¤ì›Œë“œ 1-2íšŒ]
- H2/H3: [LSI í‚¤ì›Œë“œ ë¶„ì‚° ë°°ì¹˜]

### Featured Snippet íƒ€ê²Ÿ
**íƒ€ì…:** ${
  searchIntent.includes('How to') ? 'ë‹¨ê³„ë³„ ê°€ì´ë“œ (Numbered List)' :
  searchIntent.includes('ë¹„êµ') ? 'ë¹„êµ í‘œ (Table)' :
  searchIntent.includes('êµ¬ë§¤') ? 'ì •ì˜ + ê°€ê²© ë²”ìœ„ (Paragraph)' :
  'ë¬¸ì œ-í•´ê²° (Paragraph)'
}
**ìµœì í™” í¬ë§·:** [40-60ë‹¨ì–´ë¡œ í•µì‹¬ ë‹µë³€ì„ ì²« ë¬¸ë‹¨ì— ë°°ì¹˜]

### êµ¬ì¡° ì œì•ˆ (ê²€ìƒ‰ ì˜ë„ ê¸°ë°˜)
${
  searchIntent.includes('How to') 
    ? '1. [ë„ì…] ë¬¸ì œ ìƒí™© ê³µê°\n2. [ë‹¨ê³„ë³„ ê°€ì´ë“œ] ë²ˆí˜¸ ëª©ë¡ í˜•ì‹\n3. [íŒê³¼ ì£¼ì˜ì‚¬í•­]\n4. [ê²°ë¡  + CTA]'
    : searchIntent.includes('ë¹„êµ')
    ? '1. [ë„ì…] ì„ íƒ ê¸°ì¤€ ì œì‹œ\n2. [ë¹„êµ í‘œ] í•µì‹¬ í•­ëª©ë³„ ë¹„êµ\n3. [ê° í•­ëª© ìƒì„¸ ì„¤ëª…]\n4. [ì¶”ì²œ + CTA]'
    : searchIntent.includes('êµ¬ë§¤')
    ? '1. [ë„ì…] êµ¬ë§¤ ê³ ë ¤ì‚¬í•­\n2. [ê°€ê²©ëŒ€ë³„ ì˜µì…˜]\n3. [êµ¬ë§¤ì²˜ ë° ë°©ë²•]\n4. [FAQ + CTA]'
    : '1. [ë¬¸ì œ ì •ì˜]\n2. [ì›ì¸ ë¶„ì„]\n3. [í•´ê²° ë°©ë²•]\n4. [ì˜ˆë°© íŒ + CTA]'
}

### í•„ìˆ˜ ë‹¤ë£° ë‚´ìš©
- [í•­ëª© 1]
- [í•­ëª© 2]
- [í•­ëª© 3]

### ë ˆí¼ëŸ°ìŠ¤ í•„ìš” ì˜ì—­
- [í™•ì¸ í•„ìš”í•œ ê¸°ìˆ /ìˆ˜ì¹˜/ì£¼ì¥]

### CTA ì œì•ˆ
- [í–‰ë™ ìœ ë„ ë©”ì‹œì§€]

${includeImages ? `### ì´ë¯¸ì§€ ì œì•ˆ
- ì„¹ì…˜ 1: [ì´ë¯¸ì§€ ì„¤ëª… ë° ëª©ì ]
- ì„¹ì…˜ 2: [ì´ë¯¸ì§€ ì„¤ëª… ë° ëª©ì ]
- ì„¹ì…˜ 3: [ì´ë¯¸ì§€ ì„¤ëª… ë° ëª©ì ]` : ''}

#await_human_ok

ë¸Œëœë“œ ì›ì¹™: ${tone}, ê³¼ì¥ ê¸ˆì§€, ì‹¤ìš©ì  ê°€ì´ë“œ ì œê³µ.`
          }]
        })
      });

      clearInterval(progressInterval);
      setLoadingProgress(95);
      setLoadingMessage('ë¸Œë¦¬í”„ ìµœì¢… ê²€í†  ì¤‘...');
      addLog('ğŸ“‹ íƒ€ê²Ÿ ë…ì ë¶„ì„ ì™„ë£Œ', 'process');
      addLog('ğŸ” SEO í‚¤ì›Œë“œ ì „ëµ ìˆ˜ë¦½ ì™„ë£Œ', 'process');
      addLog('ğŸ¯ Featured Snippet ìµœì í™” ì™„ë£Œ', 'process');
      
      if (includeImages) addLog('ğŸ–¼ï¸ ì´ë¯¸ì§€ ì œì•ˆ í¬í•¨', 'process');

      const data = await response.json();
      const briefText = data.content.find(c => c.type === 'text')?.text || '';
      
      setLoadingProgress(100);
      addLog('âœ… ë¸Œë¦¬í”„ ìƒì„± ì™„ë£Œ!', 'success');
      setBrief(briefText);
      setStage('brief');
    } catch (err) {
      addLog('âŒ ì˜¤ë¥˜ ë°œìƒ: ' + err.message, 'error');
      alert('ë¸Œë¦¬í”„ ìƒì„± ì¤‘ ì˜¤ë¥˜: ' + err.message);
    }
    setLoading(false);
    setLoadingProgress(0);
  };

  const reviseBrief = async () => {
    if (!feedback.trim()) {
      alert('í”¼ë“œë°±ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
      return;
    }

    setLoading(true);
    setLoadingProgress(0);
    setLoadingMessage('í”¼ë“œë°± ë¶„ì„ ì¤‘...');
    setActivityLog([]);
    setValidationResult(null); // ê²€ì¦ ê²°ê³¼ ì´ˆê¸°í™”
    addLog('ğŸ”„ ë¸Œë¦¬í”„ ìˆ˜ì • ì‹œì‘', 'start');
    addLog(`ğŸ“ ìˆ˜ì • ${revisionCount.brief + 1}íšŒì°¨`, 'info');
    
    try {
      const progressInterval = setInterval(() => {
        setLoadingProgress(prev => Math.min(prev + Math.random() * 15, 90));
      }, 300);

      addLog('ğŸ” í”¼ë“œë°± ë‚´ìš© ë¶„ì„ ì¤‘...', 'process');
      await new Promise(resolve => setTimeout(resolve, 400));
      
      setLoadingMessage('ë¸Œë¦¬í”„ë¥¼ ìˆ˜ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤...');
      addLog('âœï¸ ë¸Œë¦¬í”„ ì¬êµ¬ì„± ì¤‘...', 'process');
      addLog('ğŸ¯ í”¼ë“œë°± ë°˜ì˜ ì¤‘...', 'process');
      
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 1500,
          messages: [{
            role: 'user',
            content: `ë‹¹ì‹ ì€ DCENT ì½œë“œì›”ë › ë¸”ë¡œê·¸ í¸ì§‘ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**ì²´í¬í¬ì¸íŠ¸ 1: ë¸Œë¦¬í”„ ìˆ˜ì • (ìˆ˜ì • ${revisionCount.brief + 1}íšŒì°¨)**

ê¸°ì¡´ ë¸Œë¦¬í”„:
${brief}

í¸ì§‘ì í”¼ë“œë°±:
${feedback}

ìœ„ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ë¸Œë¦¬í”„ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”. ë™ì¼í•œ í˜•ì‹ì„ ìœ ì§€í•˜ë˜, í”¼ë“œë°± ë‚´ìš©ì„ ì •í™•íˆ ë°˜ì˜í•´ì£¼ì„¸ìš”.

ë¸Œëœë“œ ì›ì¹™: ${tone}, ê³¼ì¥ ê¸ˆì§€, ì‹¤ìš©ì  ê°€ì´ë“œ ì œê³µ.

#await_human_ok`
          }]
        })
      });

      clearInterval(progressInterval);
      setLoadingProgress(100);
      addLog('ğŸ“‹ ìˆ˜ì •ì‚¬í•­ ì ìš© ì™„ë£Œ', 'process');
      addLog('âœ… ë¸Œë¦¬í”„ ìˆ˜ì • ì™„ë£Œ!', 'success');

      const data = await response.json();
      const briefText = data.content.find(c => c.type === 'text')?.text || '';
      setBrief(briefText);
      setFeedback('');
      setRevisionCount(prev => ({ ...prev, brief: prev.brief + 1 }));
      alert('âœ… í”¼ë“œë°±ì´ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì •ëœ ë¸Œë¦¬í”„ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
    } catch (err) {
      addLog('âŒ ì˜¤ë¥˜ ë°œìƒ: ' + err.message, 'error');
      alert('ë¸Œë¦¬í”„ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜: ' + err.message);
    }
    setLoading(false);
    setLoadingProgress(0);
  };

  const generateDraft = async () => {
    setLoading(true);
    setLoadingProgress(0);
    setLoadingMessage('ì´ˆì•ˆ ì‘ì„± ì¤€ë¹„ ì¤‘...');
    setActivityLog([]);
    setValidationResult(null); // ê²€ì¦ ê²°ê³¼ ì´ˆê¸°í™”
    addLog('ğŸš€ ì´ˆì•ˆ ì‘ì„± ì‹œì‘', 'start');
    addLog(`ğŸ“ ëª©í‘œ ê¸¸ì´: ${length}ì`, 'info');
    addLog(`ğŸ¨ í†¤ì•¤ë§¤ë„ˆ: ${tone}`, 'info');
    if (targetKeyword) addLog(`ğŸ¯ íƒ€ê²Ÿ í‚¤ì›Œë“œ: ${targetKeyword}`, 'info');
    
    try {
      const progressInterval = setInterval(() => {
        setLoadingProgress(prev => Math.min(prev + Math.random() * 10, 90));
      }, 400);

      addLog('ğŸ¤– AI ëª¨ë¸ ì´ˆê¸°í™” ì¤‘...', 'process');
      await new Promise(resolve => setTimeout(resolve, 500));
      
      setLoadingMessage('AIê°€ ì´ˆì•ˆì„ ì‘ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤... (1-2ë¶„ ì†Œìš”)');
      addLog('âœï¸ ë„ì…ë¶€ ì‘ì„± ì¤‘...', 'process');
      await new Promise(resolve => setTimeout(resolve, 800));
      
      addLog('ğŸ“ ë³¸ë¬¸ êµ¬ì¡° ìƒì„± ì¤‘...', 'process');
      await new Promise(resolve => setTimeout(resolve, 800));
      
      addLog('ğŸ¯ í‚¤ì›Œë“œ ìµœì í™” ë°°ì¹˜ ì¤‘...', 'process');
      
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 4000,
          messages: [{
            role: 'user',
            content: `ë‹¹ì‹ ì€ DCENT ì½œë“œì›”ë › ë¸”ë¡œê·¸ í¸ì§‘ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**ì²´í¬í¬ì¸íŠ¸ 3: ì´ˆì•ˆ ì‘ì„±**

ìŠ¹ì¸ëœ ë¸Œë¦¬í”„:
${brief}

${feedback ? `í¸ì§‘ì í”¼ë“œë°±: ${feedback}` : ''}

ë³€ìˆ˜:
- Length: ${length}ì
- Target Keyword: ${targetKeyword || '(ë¯¸ì§€ì •)'}
- Search Intent: ${searchIntent}
- Locale: ${locale}
- Tone: ${tone}
- Images: ${includeImages ? 'on' : 'off'}

ë‹¤ìŒ ê·œì¹™ìœ¼ë¡œ ì´ˆì•ˆì„ ì‘ì„±í•˜ì„¸ìš”:

1. **SEO ìµœì í™” êµ¬ì¡°**
   - H1: íƒ€ê²Ÿ í‚¤ì›Œë“œ í¬í•¨ (ìì—°ìŠ¤ëŸ½ê²Œ)
   - ì²« 100ë‹¨ì–´: ë©”ì¸ í‚¤ì›Œë“œ 1-2íšŒ ìì—°ìŠ¤ëŸ½ê²Œ ë°°ì¹˜
   - H2/H3: LSI í‚¤ì›Œë“œ ë¶„ì‚° ë°°ì¹˜
   - Featured Snippet íƒ€ê²Ÿ: ì²« ë¬¸ë‹¨ì— 40-60ë‹¨ì–´ë¡œ í•µì‹¬ ë‹µë³€

2. **ê²€ìƒ‰ ì˜ë„ ê¸°ë°˜ êµ¬ì¡°**
${
  searchIntent.includes('How to')
    ? '   - ë‹¨ê³„ë³„ ê°€ì´ë“œ í˜•ì‹ (1, 2, 3...)\n   - ê° ë‹¨ê³„ë§ˆë‹¤ êµ¬ì²´ì  í–‰ë™ ì§€ì¹¨\n   - ìŠ¤í¬ë¦°ìƒ·/ë‹¤ì´ì–´ê·¸ë¨ ìœ„ì¹˜ í‘œì‹œ'
    : searchIntent.includes('ë¹„êµ')
    ? '   - ë¹„êµ ê¸°ì¤€ ëª…í™•íˆ ì œì‹œ\n   - í‘œ í˜•ì‹ ë˜ëŠ” í•­ëª©ë³„ ì„¤ëª…\n   - ê° ì˜µì…˜ì˜ ì¥ë‹¨ì '
    : searchIntent.includes('êµ¬ë§¤')
    ? '   - ê°€ê²©ëŒ€ë³„ ì˜µì…˜ ì œì‹œ\n   - êµ¬ë§¤ì²˜ ë§í¬ (CTA)\n   - FAQ ì„¹ì…˜ í¬í•¨'
    : '   - ë¬¸ì œ ì •ì˜ â†’ ì›ì¸ â†’ í•´ê²°ì±…\n   - ì²´í¬ë¦¬ìŠ¤íŠ¸ í˜•ì‹\n   - ì˜ˆë°© íŒ'
}

3. **ë¬¸ì²´**
   - í†¤ì•¤ë§¤ë„ˆ: ${tone}
   - ê³¼ì¥ ê¸ˆì§€, êµ¬ì²´ì  ì‚¬ë¡€ ì‚¬ìš©
   - ë…ìê°€ ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì¡°ì–¸

4. **ê¸ˆì§€ì‚¬í•­**
   - ê·¼ê±° ì—†ëŠ” ìˆ˜ì¹˜
   - ê²½ìŸì‚¬ ë¹„ë°©
   - í´ë¦­ë² ì´íŠ¸ í‘œí˜„
   - í‚¤ì›Œë“œ ìŠ¤í„°í•‘ (ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ë°˜ë³µ)

5. **í•„ìˆ˜ í¬í•¨**
   - [íŒ©íŠ¸ì²´í¬ í•„ìš”] íƒœê·¸ë¡œ ê²€ì¦ í•„ìš”í•œ ì£¼ì¥ í‘œì‹œ
   - [ì¶œì²˜ ì œì•ˆ: ...] íƒœê·¸ë¡œ ì°¸ê³ í•  ìë£Œ ëª…ì‹œ
   ${includeImages ? '- [ì´ë¯¸ì§€: ...] íƒœê·¸ë¡œ ê° ì„¹ì…˜ì— ì í•©í•œ ì´ë¯¸ì§€ ì„¤ëª… ë° alt í…ìŠ¤íŠ¸ í¬í•¨' : ''}

ì´ˆì•ˆì„ ì‘ì„±í•˜ì„¸ìš”:

#await_human_ok`
          }]
        })
      });

      clearInterval(progressInterval);
      setLoadingProgress(95);
      setLoadingMessage('ì´ˆì•ˆ ìµœì¢… ê²€í†  ì¤‘...');
      addLog('ğŸ” ë¬¸ì¥ ê°€ë…ì„± ê²€í†  ì¤‘...', 'process');
      addLog('ğŸ“‹ CTA ë°°ì¹˜ ìµœì í™” ì¤‘...', 'process');
      addLog('ğŸ¯ í‚¤ì›Œë“œ ë°€ë„ í™•ì¸ ì¤‘...', 'process');
      
      if (includeImages) addLog('ğŸ–¼ï¸ ì´ë¯¸ì§€ ì œì•ˆ ì‚½ì… ì™„ë£Œ', 'process');

      const data = await response.json();
      const draftText = data.content.find(c => c.type === 'text')?.text || '';
      
      setLoadingProgress(100);
      addLog('âœ… ì´ˆì•ˆ ì‘ì„± ì™„ë£Œ!', 'success');
      setDraft(draftText);
      setStage('draft');
      setFeedback('');
    } catch (err) {
      addLog('âŒ ì˜¤ë¥˜ ë°œìƒ: ' + err.message, 'error');
      alert('ì´ˆì•ˆ ìƒì„± ì¤‘ ì˜¤ë¥˜: ' + err.message);
    }
    setLoading(false);
    setLoadingProgress(0);
  };

  const reviseDraft = async () => {
    if (!feedback.trim()) {
      alert('í”¼ë“œë°±ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
      return;
    }

    setLoading(true);
    setLoadingProgress(0);
    setLoadingMessage('í”¼ë“œë°± ë¶„ì„ ì¤‘...');
    setValidationResult(null); // ê²€ì¦ ê²°ê³¼ ì´ˆê¸°í™”
    
    try {
      const progressInterval = setInterval(() => {
        setLoadingProgress(prev => Math.min(prev + Math.random() * 10, 90));
      }, 400);

      setLoadingMessage('ì´ˆì•ˆì„ ìˆ˜ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤...');
      
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 4000,
          messages: [{
            role: 'user',
            content: `ë‹¹ì‹ ì€ DCENT ì½œë“œì›”ë › ë¸”ë¡œê·¸ í¸ì§‘ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**ì²´í¬í¬ì¸íŠ¸ 3: ì´ˆì•ˆ ìˆ˜ì • (ìˆ˜ì • ${revisionCount.draft + 1}íšŒì°¨)**

ê¸°ì¡´ ì´ˆì•ˆ:
${draft}

í¸ì§‘ì í”¼ë“œë°±:
${feedback}

ìœ„ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ì´ˆì•ˆì„ ìˆ˜ì •í•˜ì„¸ìš”.

ë³€ìˆ˜:
- Length: ${length}ì
- Target Keyword: ${targetKeyword || '(ë¯¸ì§€ì •)'}
- Tone: ${tone}
- Images: ${includeImages ? 'on' : 'off'}

ë™ì¼í•œ í˜•ì‹ê³¼ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë˜, í”¼ë“œë°± ë‚´ìš©ì„ ì •í™•íˆ ë°˜ì˜í•´ì£¼ì„¸ìš”.
SEO ìµœì í™” ì›ì¹™(í‚¤ì›Œë“œ ë°°ì¹˜, Featured Snippet)ì„ ìœ ì§€í•˜ì„¸ìš”.

#await_human_ok`
          }]
        })
      });

      clearInterval(progressInterval);
      setLoadingProgress(100);

      const data = await response.json();
      const draftText = data.content.find(c => c.type === 'text')?.text || '';
      setDraft(draftText);
      setFeedback('');
      setRevisionCount(prev => ({ ...prev, draft: prev.draft + 1 }));
      alert('âœ… í”¼ë“œë°±ì´ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì •ëœ ì´ˆì•ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
    } catch (err) {
      alert('ì´ˆì•ˆ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜: ' + err.message);
    }
    setLoading(false);
    setLoadingProgress(0);
  };

  const generateSEO = async () => {
    setLoading(true);
    setLoadingProgress(0);
    setLoadingMessage('SEO ë¶„ì„ ì‹œì‘...');
    setValidationResult(null); // ê²€ì¦ ê²°ê³¼ ì´ˆê¸°í™”
    
    try {
      const progressInterval = setInterval(() => {
        setLoadingProgress(prev => Math.min(prev + Math.random() * 12, 90));
      }, 350);

      setLoadingMessage('í‚¤ì›Œë“œ ë¶„ì„ ë° ìµœì í™” ì¤‘...');
      
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 2000,
          messages: [{
            role: 'user',
            content: `ë‹¹ì‹ ì€ DCENT ì½œë“œì›”ë › ë¸”ë¡œê·¸ í¸ì§‘ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**ì²´í¬í¬ì¸íŠ¸ 5: SEOÂ·í¼í¬ë¨¼ìŠ¤ ìµœì í™”**

ìŠ¹ì¸ëœ ì´ˆì•ˆ:
${draft}

íƒ€ê²Ÿ í‚¤ì›Œë“œ: ${targetKeyword || '(ë¯¸ì§€ì •)'}
ê²€ìƒ‰ ì˜ë„: ${searchIntent}

${feedback ? `í¸ì§‘ì í”¼ë“œë°±: ${feedback}` : ''}

ë‹¤ìŒ í•­ëª©ì„ ìµœì í™”í•˜ì„¸ìš”:

## SEO ìµœì í™”

### ë©”íƒ€ë°ì´í„°
- Title (50-60ì): [íƒ€ê²Ÿ í‚¤ì›Œë“œ í¬í•¨, í´ë¦­ ìœ ë„]
- Description (150-160ì): [ê²€ìƒ‰ ì˜ë„ ì¶©ì¡±, CTA í¬í•¨]
- Focus Keyword: ${targetKeyword || '[ì œì•ˆ]'}

### í‚¤ì›Œë“œ ì „ëµ
| í‚¤ì›Œë“œ íƒ€ì… | í‚¤ì›Œë“œ | ê²€ìƒ‰ëŸ‰ ì¶”ì • | ë°°ì¹˜ ìœ„ì¹˜ | ë°€ë„ |
|------------|--------|------------|-----------|------|
| ë©”ì¸ | ${targetKeyword || '[ì œì•ˆ]'} | ë†’ìŒ | H1, ì²« 100ë‹¨ì–´, H2 | 1-2% |
| LSI | [ê´€ë ¨ í‚¤ì›Œë“œ 3-5ê°œ] | ì¤‘ê°„ | H2, H3, ë³¸ë¬¸ | 0.5-1% |
| Long-tail | [êµ¬ì²´ì  ê²€ìƒ‰ì–´ 3-5ê°œ] | ë‚®ìŒ | ë³¸ë¬¸, H3 | ìì—°ìŠ¤ëŸ½ê²Œ |

### Featured Snippet ìµœì í™”
- **í˜„ì¬ ìƒíƒœ:** [ì²« ë¬¸ë‹¨ ë¶„ì„]
- **ê°œì„  ì œì•ˆ:** [40-60ë‹¨ì–´ë¡œ í•µì‹¬ ë‹µë³€ ì¬êµ¬ì„±]
- **íƒ€ì…:** ${
  searchIntent.includes('How to') ? 'Numbered List' :
  searchIntent.includes('ë¹„êµ') ? 'Table' :
  'Paragraph'
}

### ë‚´ë¶€ ë§í¬ ì œì•ˆ
- [ì•µì»¤í…ìŠ¤íŠ¸] â†’ [ì¶”ì • URL ë˜ëŠ” ì£¼ì œ]
- [ì•µì»¤í…ìŠ¤íŠ¸] â†’ [ì¶”ì • URL ë˜ëŠ” ì£¼ì œ]
- [ì•µì»¤í…ìŠ¤íŠ¸] â†’ [ì¶”ì • URL ë˜ëŠ” ì£¼ì œ]

### ì™¸ë¶€ ì¶œì²˜ ì œì•ˆ (E-A-T ê°•í™”)
- [ì£¼ì¥/ìˆ˜ì¹˜] â†’ [ê¶Œìœ„ìˆëŠ” ì¶œì²˜ ì¶”ì²œ]
- [ì£¼ì¥/ìˆ˜ì¹˜] â†’ [ê¶Œìœ„ìˆëŠ” ì¶œì²˜ ì¶”ì²œ]

${includeImages ? `### ì´ë¯¸ì§€ ìµœì í™”
- ê° ì´ë¯¸ì§€ì˜ alt í…ìŠ¤íŠ¸ (í‚¤ì›Œë“œ í¬í•¨)
- ì´ë¯¸ì§€ íŒŒì¼ëª… ì œì•ˆ (SEO ì¹œí™”ì )
- ì´ë¯¸ì§€ ë°°ì¹˜ ìœ„ì¹˜ ë° í¬ê¸° ê¶Œì¥ì‚¬í•­` : ''}

## êµ¬ì¡°í™”ëœ ë°ì´í„° ì œì•ˆ
- Schema.org íƒ€ì…: [Article / HowTo / FAQPage]
- í•„ìˆ˜ í•„ë“œ: [headline, author, datePublished, image]

## ê°€ë…ì„± ê°œì„ 
- í‰ê·  ë¬¸ì¥ ê¸¸ì´: [ë¶„ì„ ê²°ê³¼]
- Flesch Reading Ease: [ì ìˆ˜ ì¶”ì •]
- ë³µì¡í•œ ì „ë¬¸ìš©ì–´: [ë‹¨ìˆœí™” ì œì•ˆ]
- ë‹¨ë½ ê¸¸ì´: [ì¡°ì • ì œì•ˆ]
- ëª¨ë°”ì¼ ìµœì í™”: [ì²´í¬ë¦¬ìŠ¤íŠ¸]

## ê²½ìŸ ë¶„ì„ (ì„ íƒ)
- ìƒìœ„ 3ê°œ ê²½ìŸ ì½˜í…ì¸  í‚¤ì›Œë“œ ë¶„ì„
- ì°¨ë³„í™” í¬ì¸íŠ¸ ì œì•ˆ

#await_human_ok`
          }]
        })
      });

      clearInterval(progressInterval);
      setLoadingProgress(95);
      setLoadingMessage('ìµœì í™” ì™„ë£Œ ì¤‘...');

      const data = await response.json();
      const seoText = data.content.find(c => c.type === 'text')?.text || '';
      
      setLoadingProgress(100);
      setSeoOutput(seoText);
      setStage('seo');
      setFeedback('');
    } catch (err) {
      alert('SEO ìµœì í™” ì¤‘ ì˜¤ë¥˜: ' + err.message);
    }
    setLoading(false);
    setLoadingProgress(0);
  };

  const resetAll = () => {
    setStage('input');
    setTopic('');
    setTargetKeyword('');
    setFeedback('');
    setBrief(null);
    setDraft(null);
    setSeoOutput(null);
    setRevisionCount({ brief: 0, draft: 0 });
    setTranslations({});
    setValidationResult(null); // ê²€ì¦ ê²°ê³¼ ì´ˆê¸°í™”
  };

  const goToPreviousStage = () => {
    const stages = ['input', 'brief', 'draft', 'seo', 'complete'];
    const currentIndex = stages.indexOf(stage);
    if (currentIndex > 0) {
      setStage(stages[currentIndex - 1]);
      setFeedback('');
      setValidationResult(null); // ê²€ì¦ ê²°ê³¼ ì´ˆê¸°í™”
    }
  };

  const translateContent = async (targetLang) => {
    if (!draft) {
      alert('ë²ˆì—­í•  ì´ˆì•ˆì´ ì—†ìŠµë‹ˆë‹¤');
      return;
    }

    setTranslatingLang(targetLang);
    setLoading(true);
    setLoadingProgress(0);
    setActivityLog([]);
    
    const langNames = {
      'ko': 'í•œêµ­ì–´',
      'ja': 'ì¼ë³¸ì–´',
      'en': 'ì˜ì–´'
    };
    
    const langName = langNames[targetLang];
    setLoadingMessage(`${langName}ë¡œ ë²ˆì—­ ì¤‘...`);
    addLog(`ğŸŒ ${langName} ë²ˆì—­ ì‹œì‘`, 'start');
    addLog('ğŸ“„ ì›ë³¸ ì½˜í…ì¸  ë¶„ì„ ì¤‘...', 'info');

    try {
      const progressInterval = setInterval(() => {
        setLoadingProgress(prev => Math.min(prev + Math.random() * 12, 90));
      }, 400);

      addLog('ğŸ” ë¬¸ë§¥ íŒŒì•… ì¤‘...', 'process');
      await new Promise(resolve => setTimeout(resolve, 500));
      
      addLog('âœï¸ ìì—°ìŠ¤ëŸ¬ìš´ ë²ˆì—­ ì§„í–‰ ì¤‘...', 'process');
      addLog('ğŸ¯ ì „ë¬¸ ìš©ì–´ í˜„ì§€í™” ì¤‘...', 'process');

      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 4000,
          messages: [{
            role: 'user',
            content: `ë‹¹ì‹ ì€ ì „ë¬¸ ë²ˆì—­ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ ì½˜í…ì¸ ë¥¼ ${langName}ë¡œ ë²ˆì—­í•˜ì„¸ìš”.

**ë²ˆì—­ ì›ì¹™:**
1. **ìì—°ìŠ¤ëŸ¬ìš´ ì˜ì—­**: ì§ì—­ì´ ì•„ë‹Œ, ë¬¸ë§¥ì„ ê³ ë ¤í•œ ìì—°ìŠ¤ëŸ¬ìš´ ë²ˆì—­
2. **í˜„ì§€í™”**: í•´ë‹¹ ì–¸ì–´ê¶Œ ë…ìì—ê²Œ ì¹œìˆ™í•œ í‘œí˜„ ì‚¬ìš©
3. **ì „ë¬¸ ìš©ì–´**: ì½œë“œì›”ë ›, ë¸”ë¡ì²´ì¸ ë“± ì „ë¬¸ ìš©ì–´ëŠ” í•´ë‹¹ ì–¸ì–´ê¶Œì—ì„œ í†µìš©ë˜ëŠ” í‘œí˜„ ì‚¬ìš©
4. **í†¤ì•¤ë§¤ë„ˆ ìœ ì§€**: ì›ë³¸ì˜ í†¤ê³¼ ë¸Œëœë“œ ë³´ì´ìŠ¤ ìœ ì§€
5. **êµ¬ì¡° ìœ ì§€**: ì œëª©(H1/H2/H3), ë‹¨ë½ êµ¬ì¡° ë™ì¼í•˜ê²Œ ìœ ì§€
6. **SEO ìµœì í™”**: íƒ€ê²Ÿ ì–¸ì–´ì˜ ê²€ìƒ‰ í‚¤ì›Œë“œë„ ê³ ë ¤
7. **íƒœê·¸ ì²˜ë¦¬**: 
   - [ì´ë¯¸ì§€: ...] íƒœê·¸ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì„¤ëª…ë§Œ ë²ˆì—­)
   - [íŒ©íŠ¸ì²´í¬ í•„ìš”], [ì¶œì²˜ ì œì•ˆ: ...] íƒœê·¸ ì œê±°

**ì›ë³¸ ì½˜í…ì¸ :**
${draft}

**íƒ€ê²Ÿ ì–¸ì–´: ${langName}**

${targetLang === 'ko' ? 'í•œêµ­ì–´ë¡œ ë²ˆì—­í•  ë•ŒëŠ” ì¡´ëŒ“ë§ì„ ì‚¬ìš©í•˜ë˜, ë„ˆë¬´ ê²©ì‹ ì°¨ë¦¬ì§€ ì•Šê³  ì¹œê·¼í•œ í†¤ì„ ìœ ì§€í•˜ì„¸ìš”.' : ''}
${targetLang === 'ja' ? 'æ—¥æœ¬èªã§ç¿»è¨³ã™ã‚‹éš›ã¯ã€ã€Œã§ã™ãƒ»ã¾ã™ã€èª¿ã‚’ä½¿ç”¨ã—ã€èª­è€…ã«è¦ªã—ã¿ã‚„ã™ã„è¡¨ç¾ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„ã€‚' : ''}
${targetLang === 'en' ? 'For English translation, use a professional yet approachable tone. Avoid overly formal language.' : ''}

ë²ˆì—­ëœ ì½˜í…ì¸ ë§Œ ì¶œë ¥í•˜ì„¸ìš”. ì¶”ê°€ ì„¤ëª…ì´ë‚˜ ì£¼ì„ì€ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤.`
          }]
        })
      });

      clearInterval(progressInterval);
      setLoadingProgress(95);
      addLog('ğŸ“‹ ë²ˆì—­ í’ˆì§ˆ ê²€í†  ì¤‘...', 'process');
      addLog('ğŸ” ìš©ì–´ ì¼ê´€ì„± í™•ì¸ ì¤‘...', 'process');

      const data = await response.json();
      const translatedText = data.content.find(c => c.type === 'text')?.text || '';
      
      setLoadingProgress(100);
      addLog(`âœ… ${langName} ë²ˆì—­ ì™„ë£Œ!`, 'success');
      
      setTranslations(prev => ({ ...prev, [targetLang]: translatedText }));
      setTranslatingLang(null);
      alert(`âœ… ${langName} ë²ˆì—­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!`);
    } catch (err) {
      addLog('âŒ ì˜¤ë¥˜ ë°œìƒ: ' + err.message, 'error');
      alert(`${langName} ë²ˆì—­ ì¤‘ ì˜¤ë¥˜: ` + err.message);
      setTranslatingLang(null);
    }
    setLoading(false);
    setLoadingProgress(0);
  };

  const copyToClipboard = (text) => {
    navigator.clipboard.writeText(text);
    alert('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
  };

  const generateShopifyHTML = () => {
    if (!draft) return '';
    
    let html = draft
      .replace(/\[ì´ë¯¸ì§€: ([^\]]+)\]/g, '<figure class="blog-image"><img src="PLACEHOLDER.jpg" alt="$1" /><figcaption>$1</figcaption></figure>')
      .replace(/\[íŒ©íŠ¸ì²´í¬ í•„ìš”\]/g, '<span class="fact-check">ğŸ“Œ íŒ©íŠ¸ì²´í¬ í•„ìš”</span>')
      .replace(/\[ì¶œì²˜ ì œì•ˆ: ([^\]]+)\]/g, '<span class="source-note">ğŸ“š ì¶œì²˜ ì œì•ˆ: $1</span>');
    
    // í—¤ë” ë³€í™˜ (ë³¼ë“œ ì²˜ë¦¬ ì „ì—)
    html = html.replace(/^### (.+)$/gm, '<h3>$1</h3>');
    html = html.replace(/^## (.+)$/gm, '<h2>$1</h2>');
    html = html.replace(/^# (.+)$/gm, '<h1>$1</h1>');
    
    // ë³¼ë“œ ì²˜ë¦¬: **í…ìŠ¤íŠ¸** â†’ <strong>í…ìŠ¤íŠ¸</strong>
    html = html.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
    
    // ì´íƒ¤ë¦­ ì²˜ë¦¬: *í…ìŠ¤íŠ¸* â†’ <em>í…ìŠ¤íŠ¸</em> (ì„ íƒì‚¬í•­)
    html = html.replace(/\*([^*]+)\*/g, '<em>$1</em>');
    
    html = html.split('\n\n').map(p => p.trim() ? `<p>${p.trim()}</p>` : '').join('\n');
    
    return `<!-- Shopify Blog HTML -->
<article class="dcent-blog-post">
  <style>
    .dcent-blog-post h2 { 
      font-size: 1.75rem; 
      font-weight: bold; 
      margin: 2rem 0 1rem; 
      color: #1a1a1a; 
    }
    .dcent-blog-post h3 { 
      font-size: 1.5rem; 
      font-weight: 600; 
      margin: 1.5rem 0 0.75rem; 
      color: #333; 
    }
    .dcent-blog-post p { 
      line-height: 1.7; 
      margin-bottom: 1rem; 
      color: #444; 
    }
    .dcent-blog-post strong {
      font-weight: 700;
      color: #1a1a1a;
    }
    .dcent-blog-post em {
      font-style: italic;
      color: #555;
    }
    .blog-image { 
      margin: 2rem 0; 
      text-align: center; 
    }
    .blog-image img { 
      max-width: 100%; 
      border-radius: 8px; 
    }
    .blog-image figcaption { 
      font-size: 0.9rem; 
      color: #666; 
      margin-top: 0.5rem; 
    }
    .fact-check {
      display: inline-block;
      background: #fff3cd;
      color: #856404;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.85rem;
      font-weight: 600;
      margin: 0 4px;
    }
    .source-note { 
      display: inline-block;
      font-size: 0.85rem; 
      color: #0066cc; 
      background: #e7f3ff;
      padding: 2px 8px;
      border-radius: 4px;
      margin: 4px 0;
    }
  </style>
  
  ${html}
</article>`;
  };

  const generateEmailHTML = () => {
    if (!draft) return '';
    
    let text = draft
      .replace(/\[ì´ë¯¸ì§€: ([^\]]+)\]/g, 'ğŸ“· ì´ë¯¸ì§€: $1')
      .replace(/\[íŒ©íŠ¸ì²´í¬ í•„ìš”\]/g, '<span style="background: #fff3cd; color: #856404; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem; font-weight: 600;">ğŸ“Œ íŒ©íŠ¸ì²´í¬ í•„ìš”</span>')
      .replace(/\[ì¶œì²˜ ì œì•ˆ: ([^\]]+)\]/g, '<span style="background: #e7f3ff; color: #0066cc; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem;">ğŸ“š ì¶œì²˜: $1</span>');
    
    const titleMatch = text.match(/^#\s+(.+)$/m);
    const title = titleMatch ? titleMatch[1] : 'ì œëª©';
    
    // ë³¼ë“œ ì²˜ë¦¬
    text = text.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
    // ì´íƒ¤ë¦­ ì²˜ë¦¬
    text = text.replace(/\*([^*]+)\*/g, '<em>$1</em>');
    
    return `<!-- Shopify Email Template -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${title}</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f5f5f5;">
  <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 20px 0;">
    <tr>
      <td align="center">
        <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden;">
          <tr>
            <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 30px; text-align: center;">
              <h1 style="color: #ffffff; font-size: 28px; margin: 0; font-weight: bold;">${title}</h1>
            </td>
          </tr>
          
          <tr>
            <td style="padding: 40px 30px;">
              ${text.split('\n\n').map(p => {
                if (p.startsWith('##')) {
                  return `<h2 style="color: #333; font-size: 22px; margin: 30px 0 15px; font-weight: 600;">${p.replace(/^##\s+/, '')}</h2>`;
                } else if (p.startsWith('###')) {
                  return `<h3 style="color: #555; font-size: 18px; margin: 20px 0 10px; font-weight: 600;">${p.replace(/^###\s+/, '')}</h3>`;
                } else {
                  return `<p style="color: #444; line-height: 1.7; margin: 0 0 15px; font-size: 16px;">${p}</p>`;
                }
              }).join('')}
            </td>
          </tr>
          
          <tr>
            <td style="padding: 0 30px 40px; text-align: center;">
              <a href="YOUR_LINK_HERE" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #ffffff; text-decoration: none; padding: 15px 40px; border-radius: 50px; font-weight: bold; font-size: 16px;">ë” ì•Œì•„ë³´ê¸°</a>
            </td>
          </tr>
          
          <tr>
            <td style="background-color: #f8f9fa; padding: 20px 30px; text-align: center; border-top: 1px solid #e9ecef;">
              <p style="margin: 0; color: #6c757d; font-size: 14px;">Â© 2024 DCENT. All rights reserved.</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>`;
  };

  const generatePlainText = () => {
    if (!draft) return '';
    
    return draft
      .replace(/\[ì´ë¯¸ì§€: ([^\]]+)\]/g, '[ì´ë¯¸ì§€] $1')
      .replace(/\[íŒ©íŠ¸ì²´í¬ í•„ìš”\]/g, 'ğŸ“Œ [íŒ©íŠ¸ì²´í¬ í•„ìš”]')
      .replace(/\[ì¶œì²˜ ì œì•ˆ: ([^\]]+)\]/g, 'ğŸ“š [ì¶œì²˜ ì œì•ˆ: $1]')
      .replace(/\*\*(.+?)\*\*/g, '$1') // ë³¼ë“œ ë§ˆí¬ë‹¤ìš´ ì œê±° (í…ìŠ¤íŠ¸ë§Œ)
      .replace(/\*([^*]+)\*/g, '$1') // ì´íƒ¤ë¦­ ë§ˆí¬ë‹¤ìš´ ì œê±°
      .replace(/^###\s+/gm, '')
      .replace(/^##\s+/gm, '')
      .replace(/^#\s+/gm, '');
  };

  const getExportContent = () => {
    switch(exportFormat) {
      case 'shopify': return generateShopifyHTML();
      case 'email': return generateEmailHTML();
      case 'plaintext': return generatePlainText();
      default: return '';
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-6">
      <div className="max-w-5xl mx-auto">
        {/* í—¤ë” */}
        <div className="bg-white/10 backdrop-blur-lg rounded-2xl p-6 mb-6 border border-white/20">
          <div className="flex items-center justify-between">
            <div>
              <div className="flex items-center gap-3 mb-2">
                <FileText className="w-8 h-8 text-blue-400" />
                <h1 className="text-3xl font-bold text-white">ì»¨í…ì¸  AI ì—ì´ì „íŠ¸</h1>
              </div>
              <p className="text-blue-200">SEO ìµœì í™” Â· Featured Snippet íƒ€ê²Ÿ Â· ê²€ìƒ‰ ì˜ë„ ê¸°ë°˜ êµ¬ì¡°</p>
            </div>
          </div>
        </div>

        {/* ë¡œë”© í”„ë¡œê·¸ë ˆìŠ¤ ë°” */}
        {(loading || validating) && (
          <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 mb-6 border border-white/20">
            <div className="flex items-center gap-3 mb-3">
              <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-white"></div>
              <p className="text-white font-semibold">{loadingMessage}</p>
            </div>
            <div className="w-full bg-white/20 rounded-full h-3 overflow-hidden mb-2">
              <div 
                className="bg-gradient-to-r from-blue-500 to-purple-500 h-full transition-all duration-300 ease-out"
                style={{ width: `${loadingProgress}%` }}
              ></div>
            </div>
            <p className="text-white/60 text-sm mb-4 text-right">{Math.round(loadingProgress)}%</p>

            {/* ì‘ì—… ë¡œê·¸ */}
            <div className="bg-black/30 rounded-lg p-4 max-h-48 overflow-y-auto">
              <p className="text-white/80 text-xs font-semibold mb-2">ğŸ“‹ ì‘ì—… ë‚´ì—­</p>
              <div className="space-y-1">
                {activityLog.map((log, index) => (
                  <div key={index} className="flex items-start gap-2 text-xs">
                    <span className="text-white/40 font-mono">{log.timestamp}</span>
                    <span className={`flex-1 ${
                      log.type === 'success' ? 'text-green-400' :
                      log.type === 'error' ? 'text-red-400' :
                      log.type === 'start' ? 'text-blue-400' :
                      log.type === 'process' ? 'text-yellow-300' :
                      'text-white/60'
                    }`}>
                      {log.message}
                    </span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        )}

        {/* ì§„í–‰ ìƒíƒœ */}
        <div className="bg-white/10 backdrop-blur-lg rounded-xl p-4 mb-6 border border-white/20">
          <div className="flex items-center justify-between">
            <Step active={stage === 'input'} completed={stage !== 'input'} icon={<Lightbulb />} label="ì£¼ì œ ì…ë ¥" />
            <ChevronRight className="text-white/40" />
            <Step active={stage === 'brief'} completed={['draft', 'seo', 'complete'].includes(stage)} icon={<FileText />} label="ë¸Œë¦¬í”„" />
            <ChevronRight className="text-white/40" />
            <Step active={stage === 'draft'} completed={['seo', 'complete'].includes(stage)} icon={<FileText />} label="ì´ˆì•ˆ" />
            <ChevronRight className="text-white/40" />
            <Step active={stage === 'seo'} completed={stage === 'complete'} icon={<TrendingUp />} label="SEO" />
            <ChevronRight className="text-white/40" />
            <Step active={stage === 'complete'} icon={<CheckCircle />} label="ì™„ë£Œ" />
          </div>
        </div>

        {/* ì…ë ¥ ë‹¨ê³„ */}
        {stage === 'input' && (
          <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
            <h2 className="text-2xl font-bold text-white mb-4">ë³€ìˆ˜ ì„¤ì •</h2>
            
            <div className="space-y-4">
              <div>
                <label className="block text-white font-semibold mb-2">Topic (í•„ìˆ˜) *</label>
                <input
                  type="text"
                  value={topic}
                  onChange={(e) => setTopic(e.target.value)}
                  placeholder="ì˜ˆ: ì½œë“œì›”ë ›ìœ¼ë¡œ NFT ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ëŠ” ë°©ë²•"
                  className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/50"
                />
              </div>

              <div>
                <label className="block text-white font-semibold mb-2">
                  íƒ€ê²Ÿ í‚¤ì›Œë“œ <span className="text-white/60 text-sm font-normal">(ì„ íƒì‚¬í•­)</span>
                </label>
                <input
                  type="text"
                  value={targetKeyword}
                  onChange={(e) => setTargetKeyword(e.target.value)}
                  placeholder="ì˜ˆ: ì½œë“œì›”ë › NFT ë³´ê´€"
                  className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/50"
                />
                <p className="text-white/50 text-xs mt-1">
                  ğŸ’¡ SEO ìµœì í™”ë¥¼ ìœ„í•œ ë©”ì¸ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”. ë¯¸ì…ë ¥ ì‹œ AIê°€ ìë™ ì œì•ˆí•©ë‹ˆë‹¤.
                </p>
              </div>

              <div className="grid grid-cols-2 gap-4">
                <div>
                  <label className="block text-white font-semibold mb-2">Audience (ë…ì ë ˆë²¨)</label>
                  <select value={audience} onChange={(e) => setAudience(e.target.value)} className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white">
                    <option value="ì´ˆë³´ì (ì´ˆê¸‰)">ì´ˆë³´ì (ì´ˆê¸‰)</option>
                    <option value="ì¤‘ê¸‰ì (ì¤‘ê¸‰)">ì¤‘ê¸‰ì (ì¤‘ê¸‰)</option>
                    <option value="ê³ ê¸‰ì (ì˜ ì•„ëŠ” ì‚¬ëŒ)">ê³ ê¸‰ì (ì˜ ì•„ëŠ” ì‚¬ëŒ)</option>
                  </select>
                </div>

                <div>
                  <label className="block text-white font-semibold mb-2">Goal</label>
                  <select value={goal} onChange={(e) => setGoal(e.target.value)} className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white">
                    <option value="êµìœ¡">êµìœ¡</option>
                    <option value="ì „í™˜">ì „í™˜</option>
                    <option value="ë¦¬ë“œ">ë¦¬ë“œ</option>
                    <option value="ë¸Œëœë”©">ë¸Œëœë”©</option>
                  </select>
                </div>
              </div>

              <div className="grid grid-cols-2 gap-4">
                <div>
                  <label className="block text-white font-semibold mb-2">Tone & Manner</label>
                  <select value={tone} onChange={(e) => setTone(e.target.value)} className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white">
                    <option value="ì „ë¬¸ì ì´ë©´ì„œ ì¹œê·¼í•œ">ì „ë¬¸ì ì´ë©´ì„œ ì¹œê·¼í•œ (ê¸°ë³¸)</option>
                    <option value="ë§¤ìš° ì¹œê·¼í•˜ê³  ëŒ€í™”ì²´">ë§¤ìš° ì¹œê·¼í•˜ê³  ëŒ€í™”ì²´</option>
                    <option value="ì—„ê²©í•˜ê²Œ ì „ë¬¸ì ">ì—„ê²©í•˜ê²Œ ì „ë¬¸ì </option>
                    <option value="ê¸°ìˆ ì ì´ê³  ìƒì„¸í•œ">ê¸°ìˆ ì ì´ê³  ìƒì„¸í•œ</option>
                    <option value="ê°„ê²°í•˜ê³  ì‹¤ìš©ì ">ê°„ê²°í•˜ê³  ì‹¤ìš©ì </option>
                    <option value="ìŠ¤í† ë¦¬í…”ë§ ì¤‘ì‹¬">ìŠ¤í† ë¦¬í…”ë§ ì¤‘ì‹¬</option>
                    <option value="êµìœ¡ì ì´ê³  ì¹œì ˆí•œ">êµìœ¡ì ì´ê³  ì¹œì ˆí•œ</option>
                  </select>
                </div>

                <div>
                  <label className="block text-white font-semibold mb-2">ê²€ìƒ‰ ì˜ë„</label>
                  <select value={searchIntent} onChange={(e) => setSearchIntent(e.target.value)} className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white">
                    <option value="ì •ë³´ ê²€ìƒ‰ (How to)">ì •ë³´ ê²€ìƒ‰ (How to)</option>
                    <option value="ë¹„êµ/ê²€í†  (Best, vs)">ë¹„êµ/ê²€í†  (Best, vs)</option>
                    <option value="êµ¬ë§¤ ì˜ë„ (Buy, Price)">êµ¬ë§¤ ì˜ë„ (Buy, Price)</option>
                    <option value="ë¬¸ì œ í•´ê²° (Fix, Error)">ë¬¸ì œ í•´ê²° (Fix, Error)</option>
                  </select>
                </div>
              </div>

              <div className="grid grid-cols-3 gap-4">
                <div>
                  <label className="block text-white font-semibold mb-2">Length</label>
                  <select value={length} onChange={(e) => setLength(e.target.value)} className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white">
                    <option value="800">800ì</option>
                    <option value="1200">1200ì</option>
                    <option value="1500">1500+ì</option>
                  </select>
                </div>

                <div>
                  <label className="block text-white font-semibold mb-2">CTAs</label>
                  <select value={ctas} onChange={(e) => setCtas(e.target.value)} className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white">
                    <option value="1">1ê°œ</option>
                    <option value="2">2ê°œ</option>
                  </select>
                </div>

                <div>
                  <label className="block text-white font-semibold mb-2">Locale</label>
                  <input type="text" value={locale} onChange={(e) => setLocale(e.target.value)} className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white" />
                </div>
              </div>

              <div className="flex items-center gap-3">
                <input
                  type="checkbox"
                  id="images"
                  checked={includeImages}
                  onChange={(e) => setIncludeImages(e.target.checked)}
                  className="w-5 h-5"
                />
                <label htmlFor="images" className="text-white font-semibold">ì´ë¯¸ì§€ ì œì•ˆ í¬í•¨</label>
              </div>

              <button
                onClick={generateBrief}
                disabled={loading}
                className="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
              >
                {loading ? 'ìƒì„± ì¤‘...' : <><Send className="w-5 h-5" /> ë¸Œë¦¬í”„ ìƒì„±</>}
              </button>
            </div>
          </div>
        )}

        {/* ë¸Œë¦¬í”„ ë‹¨ê³„ */}
        {stage === 'brief' && brief && (
          <div className="space-y-4">
            <button
              onClick={goToPreviousStage}
              disabled={loading}
              className="flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all disabled:opacity-50"
            >
              <ArrowLeft className="w-4 h-4" />
              ì´ì „ ë‹¨ê³„ë¡œ (ë³€ìˆ˜ ìˆ˜ì •)
            </button>

            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <div className="flex items-center justify-between mb-4">
                <h2 className="text-2xl font-bold text-white">ì²´í¬í¬ì¸íŠ¸ 1: ë¸Œë¦¬í”„</h2>
                <div className="flex items-center gap-3">
                  {revisionCount.brief > 0 && (
                    <span className="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm">
                      ìˆ˜ì • {revisionCount.brief}íšŒ
                    </span>
                  )}
                  <span className="px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm">#await_human_ok</span>
                </div>
              </div>
              <div className="bg-black/30 rounded-lg p-4 text-white whitespace-pre-wrap font-mono text-sm overflow-auto max-h-96">
                {brief}
              </div>
              
              {/* AI ê²€ì¦ ë²„íŠ¼ */}
              <div className="mt-4">
                <button
                  onClick={() => validateWithAI('brief', brief)}
                  disabled={validating || loading}
                  className="w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
                >
                  {validating ? 'ê²€ì¦ ì¤‘...' : <><Search className="w-5 h-5" /> ğŸ¤– AI SEO ì „ë¬¸ê°€ ê²€ì¦</>}
                </button>
              </div>

              {/* ê²€ì¦ ê²°ê³¼ í‘œì‹œ */}
              {validationResult && !validating && (
                <div className="mt-4 bg-gradient-to-br from-purple-900/40 to-blue-900/40 rounded-xl p-6 border border-purple-400/30">
                  <h3 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                    ğŸ“Š AI ì „ë¬¸ê°€ í‰ê°€ ê²°ê³¼
                  </h3>

                  {/* ì¢…í•© ì ìˆ˜ */}
                  <div className="mb-6 text-center">
                    <div className="text-5xl font-bold text-white mb-2">
                      {validationResult.overall_score}<span className="text-2xl text-white/60">/100</span>
                    </div>
                    <div className={`text-lg font-semibold ${
                      validationResult.overall_score >= 90 ? 'text-green-400' :
                      validationResult.overall_score >= 70 ? 'text-yellow-400' :
                      'text-red-400'
                    }`}>
                      {validationResult.overall_score >= 90 ? 'ğŸŒŸ íƒì›”í•¨' :
                       validationResult.overall_score >= 70 ? 'âœ… ìš°ìˆ˜' :
                       'âš ï¸ ê°œì„  í•„ìš”'}
                    </div>
                  </div>

                  {/* ì„¸ë¶€ ì ìˆ˜ */}
                  <div className="grid grid-cols-2 gap-3 mb-4">
                    {Object.entries(validationResult.scores).map(([key, score]) => {
                      const labels = {
                        keyword_strategy: 'í‚¤ì›Œë“œ ì „ëµ',
                        featured_snippet: 'Featured Snippet',
                        structure: 'êµ¬ì¡°',
                        completeness: 'ì™„ì„±ë„',
                        keyword_optimization: 'í‚¤ì›Œë“œ ìµœì í™”',
                        readability: 'ê°€ë…ì„±',
                        metadata: 'ë©”íƒ€ë°ì´í„°',
                        link_strategy: 'ë§í¬ ì „ëµ',
                        technical_seo: 'ê¸°ìˆ  SEO'
                      };
                      return (
                        <div key={key} className="bg-white/10 rounded-lg p-3">
                          <div className="text-white/70 text-sm mb-1">{labels[key]}</div>
                          <div className="flex items-center gap-2">
                            <div className="flex-1 bg-white/20 rounded-full h-2">
                              <div 
                                className={`h-full rounded-full ${
                                  score >= 90 ? 'bg-green-400' :
                                  score >= 70 ? 'bg-yellow-400' :
                                  'bg-red-400'
                                }`}
                                style={{ width: `${score}%` }}
                              ></div>
                            </div>
                            <div className="text-white font-bold text-sm">{score}</div>
                          </div>
                        </div>
                      );
                    })}
                  </div>

                  {/* ê°•ì  */}
                  {validationResult.strengths && validationResult.strengths.length > 0 && (
                    <div className="mb-4">
                      <h4 className="text-green-400 font-semibold mb-2">âœ… ê°•ì </h4>
                      <ul className="space-y-1">
                        {validationResult.strengths.map((strength, idx) => (
                          <li key={idx} className="text-white/80 text-sm">â€¢ {strength}</li>
                        ))}
                      </ul>
                    </div>
                  )}

                  {/* ê°œì„  ì‚¬í•­ */}
                  {validationResult.issues && validationResult.issues.length > 0 && (
                    <div className="mb-4">
                      <h4 className="text-yellow-400 font-semibold mb-2">âš ï¸ ê°œì„  ì‚¬í•­</h4>
                      <div className="space-y-2">
                        {validationResult.issues.map((issue, idx) => (
                          <div key={idx} className={`p-3 rounded-lg ${
                            issue.severity === 'error' ? 'bg-red-500/20 border border-red-400/30' :
                            'bg-yellow-500/20 border border-yellow-400/30'
                          }`}>
                            <div className="text-white font-semibold text-sm mb-1">
                              {issue.severity === 'error' ? 'âŒ' : 'âš ï¸'} {issue.item}
                              {issue.location && <span className="text-white/60"> ({issue.location})</span>}
                            </div>
                            <div className="text-white/70 text-sm">â†’ {issue.suggestion}</div>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  {/* ìë™ í”¼ë“œë°± ì ìš© ë²„íŠ¼ */}
                  {validationResult.auto_feedback && (
                    <button
                      onClick={applyAutoFeedback}
                      className="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-all"
                    >
                      <AlertCircle className="w-5 h-5" />
                      ìë™ìœ¼ë¡œ í”¼ë“œë°± ì…ë ¥í•˜ê¸°
                    </button>
                  )}
                </div>
              )}
            </div>

            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <h3 className="text-xl font-bold text-white mb-3">âœï¸ í¸ì§‘ì í”¼ë“œë°±</h3>
              <p className="text-white/60 text-sm mb-3">
                ìˆ˜ì •ì´ í•„ìš”í•œ ë¶€ë¶„ì„ êµ¬ì²´ì ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš”. í”¼ë“œë°± ì œì¶œ ì‹œ ìë™ìœ¼ë¡œ ë¸Œë¦¬í”„ê°€ ì¬ìƒì„±ë©ë‹ˆë‹¤.
              </p>
              <textarea
                value={feedback}
                onChange={(e) => setFeedback(e.target.value)}
                placeholder="ì˜ˆ: Featured Snippet íƒ€ê²Ÿì„ ë” êµ¬ì²´í™”í•´ì£¼ì„¸ìš”"
                className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/50 h-32 mb-4"
              />
              <div className="flex gap-3">
                <button
                  onClick={reviseBrief}
                  disabled={loading || !feedback.trim()}
                  className="flex-1 bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
                >
                  {loading ? 'ìˆ˜ì • ì¤‘...' : <><AlertCircle className="w-5 h-5" /> í”¼ë“œë°± ì œì¶œ & ì¬ìƒì„±</>}
                </button>
                <button
                  onClick={generateDraft}
                  disabled={loading}
                  className="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 transition-all"
                >
                  {loading ? 'ìƒì„± ì¤‘...' : <><CheckCircle className="w-5 h-5" /> ìŠ¹ì¸ & ì´ˆì•ˆ ìƒì„±</>}
                </button>
              </div>
              <button onClick={resetAll} className="w-full mt-3 px-6 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg transition-all">ì²˜ìŒìœ¼ë¡œ</button>
            </div>
          </div>
        )}

        {/* ì´ˆì•ˆ ë‹¨ê³„ */}
        {stage === 'draft' && draft && (
          <div className="space-y-4">
            <button
              onClick={goToPreviousStage}
              disabled={loading}
              className="flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all disabled:opacity-50"
            >
              <ArrowLeft className="w-4 h-4" />
              ì´ì „ ë‹¨ê³„ë¡œ (ë¸Œë¦¬í”„ ìˆ˜ì •)
            </button>

            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <div className="flex items-center justify-between mb-4">
                <h2 className="text-2xl font-bold text-white">ì²´í¬í¬ì¸íŠ¸ 3: ì´ˆì•ˆ</h2>
                <div className="flex items-center gap-3">
                  {revisionCount.draft > 0 && (
                    <span className="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm">
                      ìˆ˜ì • {revisionCount.draft}íšŒ
                    </span>
                  )}
                  <span className="px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm">#await_human_ok</span>
                </div>
              </div>
              <div className="bg-black/30 rounded-lg p-4 text-white whitespace-pre-wrap text-sm overflow-auto max-h-96">
                {draft}
              </div>

              {/* AI ê²€ì¦ ë²„íŠ¼ */}
              <div className="mt-4">
                <button
                  onClick={() => validateWithAI('draft', draft)}
                  disabled={validating || loading}
                  className="w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
                >
                  {validating ? 'ê²€ì¦ ì¤‘...' : <><Search className="w-5 h-5" /> ğŸ¤– AI SEO ì „ë¬¸ê°€ ê²€ì¦</>}
                </button>
              </div>

              {/* ê²€ì¦ ê²°ê³¼ í‘œì‹œ */}
              {validationResult && !validating && (
                <div className="mt-4 bg-gradient-to-br from-purple-900/40 to-blue-900/40 rounded-xl p-6 border border-purple-400/30">
                  <h3 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                    ğŸ“Š AI ì „ë¬¸ê°€ í‰ê°€ ê²°ê³¼
                  </h3>

                  {/* ì¢…í•© ì ìˆ˜ */}
                  <div className="mb-6 text-center">
                    <div className="text-5xl font-bold text-white mb-2">
                      {validationResult.overall_score}<span className="text-2xl text-white/60">/100</span>
                    </div>
                    <div className={`text-lg font-semibold ${
                      validationResult.overall_score >= 90 ? 'text-green-400' :
                      validationResult.overall_score >= 70 ? 'text-yellow-400' :
                      'text-red-400'
                    }`}>
                      {validationResult.overall_score >= 90 ? 'ğŸŒŸ íƒì›”í•¨' :
                       validationResult.overall_score >= 70 ? 'âœ… ìš°ìˆ˜' :
                       'âš ï¸ ê°œì„  í•„ìš”'}
                    </div>
                  </div>

                  {/* ì£¼ìš” ì§€í‘œ */}
                  {validationResult.keyword_density && (
                    <div className="grid grid-cols-3 gap-3 mb-4">
                      <div className="bg-white/10 rounded-lg p-3 text-center">
                        <div className="text-white/70 text-xs mb-1">í‚¤ì›Œë“œ ë°€ë„</div>
                        <div className="text-white font-bold">{validationResult.keyword_density}</div>
                      </div>
                      {validationResult.first_paragraph_words && (
                        <div className="bg-white/10 rounded-lg p-3 text-center">
                          <div className="text-white/70 text-xs mb-1">ì²« ë¬¸ë‹¨</div>
                          <div className="text-white font-bold">{validationResult.first_paragraph_words}ë‹¨ì–´</div>
                        </div>
                      )}
                      {validationResult.avg_sentence_length && (
                        <div className="bg-white/10 rounded-lg p-3 text-center">
                          <div className="text-white/70 text-xs mb-1">í‰ê·  ë¬¸ì¥</div>
                          <div className="text-white font-bold">{validationResult.avg_sentence_length}ë‹¨ì–´</div>
                        </div>
                      )}
                    </div>
                  )}

                  {/* ì„¸ë¶€ ì ìˆ˜ */}
                  <div className="grid grid-cols-2 gap-3 mb-4">
                    {Object.entries(validationResult.scores).map(([key, score]) => {
                      const labels = {
                        keyword_strategy: 'í‚¤ì›Œë“œ ì „ëµ',
                        featured_snippet: 'Featured Snippet',
                        structure: 'êµ¬ì¡°',
                        completeness: 'ì™„ì„±ë„',
                        keyword_optimization: 'í‚¤ì›Œë“œ ìµœì í™”',
                        readability: 'ê°€ë…ì„±',
                        metadata: 'ë©”íƒ€ë°ì´í„°',
                        link_strategy: 'ë§í¬ ì „ëµ',
                        technical_seo: 'ê¸°ìˆ  SEO'
                      };
                      return (
                        <div key={key} className="bg-white/10 rounded-lg p-3">
                          <div className="text-white/70 text-sm mb-1">{labels[key]}</div>
                          <div className="flex items-center gap-2">
                            <div className="flex-1 bg-white/20 rounded-full h-2">
                              <div 
                                className={`h-full rounded-full ${
                                  score >= 90 ? 'bg-green-400' :
                                  score >= 70 ? 'bg-yellow-400' :
                                  'bg-red-400'
                                }`}
                                style={{ width: `${score}%` }}
                              ></div>
                            </div>
                            <div className="text-white font-bold text-sm">{score}</div>
                          </div>
                        </div>
                      );
                    })}
                  </div>

                  {/* ê°•ì  */}
                  {validationResult.strengths && validationResult.strengths.length > 0 && (
                    <div className="mb-4">
                      <h4 className="text-green-400 font-semibold mb-2">âœ… ê°•ì </h4>
                      <ul className="space-y-1">
                        {validationResult.strengths.map((strength, idx) => (
                          <li key={idx} className="text-white/80 text-sm">â€¢ {strength}</li>
                        ))}
                      </ul>
                    </div>
                  )}

                  {/* ê°œì„  ì‚¬í•­ */}
                  {validationResult.issues && validationResult.issues.length > 0 && (
                    <div className="mb-4">
                      <h4 className="text-yellow-400 font-semibold mb-2">âš ï¸ ê°œì„  ì‚¬í•­</h4>
                      <div className="space-y-2">
                        {validationResult.issues.map((issue, idx) => (
                          <div key={idx} className={`p-3 rounded-lg ${
                            issue.severity === 'error' ? 'bg-red-500/20 border border-red-400/30' :
                            'bg-yellow-500/20 border border-yellow-400/30'
                          }`}>
                            <div className="text-white font-semibold text-sm mb-1">
                              {issue.severity === 'error' ? 'âŒ' : 'âš ï¸'} {issue.item}
                              {issue.location && <span className="text-white/60"> ({issue.location})</span>}
                            </div>
                            <div className="text-white/70 text-sm">â†’ {issue.suggestion}</div>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  {/* ìë™ í”¼ë“œë°± ì ìš© ë²„íŠ¼ */}
                  {validationResult.auto_feedback && (
                    <button
                      onClick={applyAutoFeedback}
                      className="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-all"
                    >
                      <AlertCircle className="w-5 h-5" />
                      ìë™ìœ¼ë¡œ í”¼ë“œë°± ì…ë ¥í•˜ê¸°
                    </button>
                  )}
                </div>
              )}
            </div>

            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <h3 className="text-xl font-bold text-white mb-3">âœï¸ ë³´ì´ìŠ¤Â·íŒ©íŠ¸ ì²´í¬ í”¼ë“œë°±</h3>
              <p className="text-white/60 text-sm mb-3">
                í†¤ì•¤ë§¤ë„ˆ, ì‚¬ì‹¤ í™•ì¸, ë¬¸ì¥ ìˆ˜ì • ë“±ì„ êµ¬ì²´ì ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš”. í”¼ë“œë°± ì œì¶œ ì‹œ ìë™ìœ¼ë¡œ ì´ˆì•ˆì´ ì¬ìƒì„±ë©ë‹ˆë‹¤.
              </p>
              <textarea
                value={feedback}
                onChange={(e) => setFeedback(e.target.value)}
                placeholder="ì˜ˆ: í‚¤ì›Œë“œ ë°€ë„ê°€ ë„ˆë¬´ ë†’ìŠµë‹ˆë‹¤. ë” ìì—°ìŠ¤ëŸ½ê²Œ ìˆ˜ì •í•´ì£¼ì„¸ìš”"
                className="w-full p-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/50 h-32 mb-4"
              />
              <div className="flex gap-3">
                <button
                  onClick={reviseDraft}
                  disabled={loading || !feedback.trim()}
                  className="flex-1 bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
                >
                  {loading ? 'ìˆ˜ì • ì¤‘...' : <><AlertCircle className="w-5 h-5" /> í”¼ë“œë°± ì œì¶œ & ì¬ìƒì„±</>}
                </button>
                <button
                  onClick={generateSEO}
                  disabled={loading}
                  className="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 transition-all"
                >
                  {loading ? 'ìƒì„± ì¤‘...' : <><CheckCircle className="w-5 h-5" /> ìŠ¹ì¸ & SEO ìµœì í™”</>}
                </button>
              </div>
              <button onClick={resetAll} className="w-full mt-3 px-6 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg transition-all">ì²˜ìŒìœ¼ë¡œ</button>
            </div>
          </div>
        )}

        {/* SEO ë‹¨ê³„ */}
        {stage === 'seo' && seoOutput && (
          <div className="space-y-4">
            <button
              onClick={goToPreviousStage}
              disabled={loading}
              className="flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all disabled:opacity-50"
            >
              <ArrowLeft className="w-4 h-4" />
              ì´ì „ ë‹¨ê³„ë¡œ (ì´ˆì•ˆ ìˆ˜ì •)
            </button>

            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <div className="flex items-center justify-between mb-4">
                <h2 className="text-2xl font-bold text-white">ì²´í¬í¬ì¸íŠ¸ 5: SEOÂ·í¼í¬ë¨¼ìŠ¤ ìµœì í™”</h2>
                <span className="px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm">#await_human_ok</span>
              </div>
              <div className="bg-black/30 rounded-lg p-4 text-white whitespace-pre-wrap text-sm overflow-auto max-h-96">
                {seoOutput}
              </div>

              {/* AI ê²€ì¦ ë²„íŠ¼ */}
              <div className="mt-4">
                <button
                  onClick={() => validateWithAI('seo', seoOutput)}
                  disabled={validating || loading}
                  className="w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
                >
                  {validating ? 'ê²€ì¦ ì¤‘...' : <><Search className="w-5 h-5" /> ğŸ¤– AI SEO ì „ë¬¸ê°€ ê²€ì¦</>}
                </button>
              </div>

              {/* ê²€ì¦ ê²°ê³¼ í‘œì‹œ */}
              {validationResult && !validating && (
                <div className="mt-4 bg-gradient-to-br from-purple-900/40 to-blue-900/40 rounded-xl p-6 border border-purple-400/30">
                  <h3 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                    ğŸ“Š AI ì „ë¬¸ê°€ í‰ê°€ ê²°ê³¼
                  </h3>

                  {/* ì¢…í•© ì ìˆ˜ */}
                  <div className="mb-6 text-center">
                    <div className="text-5xl font-bold text-white mb-2">
                      {validationResult.overall_score}<span className="text-2xl text-white/60">/100</span>
                    </div>
                    <div className={`text-lg font-semibold ${
                      validationResult.overall_score >= 90 ? 'text-green-400' :
                      validationResult.overall_score >= 70 ? 'text-yellow-400' :
                      'text-red-400'
                    }`}>
                      {validationResult.overall_score >= 90 ? 'ğŸŒŸ íƒì›”í•¨' :
                       validationResult.overall_score >= 70 ? 'âœ… ìš°ìˆ˜' :
                       'âš ï¸ ê°œì„  í•„ìš”'}
                    </div>
                  </div>

                  {/* ì„¸ë¶€ ì ìˆ˜ */}
                  <div className="grid grid-cols-2 gap-3 mb-4">
                    {Object.entries(validationResult.scores).map(([key, score]) => {
                      const labels = {
                        keyword_strategy: 'í‚¤ì›Œë“œ ì „ëµ',
                        featured_snippet: 'Featured Snippet',
                        structure: 'êµ¬ì¡°',
                        completeness: 'ì™„ì„±ë„',
                        keyword_optimization: 'í‚¤ì›Œë“œ ìµœì í™”',
                        readability: 'ê°€ë…ì„±',
                        metadata: 'ë©”íƒ€ë°ì´í„°',
                        link_strategy: 'ë§í¬ ì „ëµ',
                        technical_seo: 'ê¸°ìˆ  SEO'
                      };
                      return (
                        <div key={key} className="bg-white/10 rounded-lg p-3">
                          <div className="text-white/70 text-sm mb-1">{labels[key]}</div>
                          <div className="flex items-center gap-2">
                            <div className="flex-1 bg-white/20 rounded-full h-2">
                              <div 
                                className={`h-full rounded-full ${
                                  score >= 90 ? 'bg-green-400' :
                                  score >= 70 ? 'bg-yellow-400' :
                                  'bg-red-400'
                                }`}
                                style={{ width: `${score}%` }}
                              ></div>
                            </div>
                            <div className="text-white font-bold text-sm">{score}</div>
                          </div>
                        </div>
                      );
                    })}
                  </div>

                  {/* ê°•ì  */}
                  {validationResult.strengths && validationResult.strengths.length > 0 && (
                    <div className="mb-4">
                      <h4 className="text-green-400 font-semibold mb-2">âœ… ê°•ì </h4>
                      <ul className="space-y-1">
                        {validationResult.strengths.map((strength, idx) => (
                          <li key={idx} className="text-white/80 text-sm">â€¢ {strength}</li>
                        ))}
                      </ul>
                    </div>
                  )}

                  {/* ê°œì„  ì‚¬í•­ */}
                  {validationResult.issues && validationResult.issues.length > 0 && (
                    <div className="mb-4">
                      <h4 className="text-yellow-400 font-semibold mb-2">âš ï¸ ê°œì„  ì‚¬í•­</h4>
                      <div className="space-y-2">
                        {validationResult.issues.map((issue, idx) => (
                          <div key={idx} className={`p-3 rounded-lg ${
                            issue.severity === 'error' ? 'bg-red-500/20 border border-red-400/30' :
                            'bg-yellow-500/20 border border-yellow-400/30'
                          }`}>
                            <div className="text-white font-semibold text-sm mb-1">
                              {issue.severity === 'error' ? 'âŒ' : 'âš ï¸'} {issue.item}
                            </div>
                            <div className="text-white/70 text-sm">â†’ {issue.suggestion}</div>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  {/* ìë™ í”¼ë“œë°± ì ìš© ë²„íŠ¼ */}
                  {validationResult.auto_feedback && (
                    <button
                      onClick={applyAutoFeedback}
                      className="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-all"
                    >
                      <AlertCircle className="w-5 h-5" />
                      ìë™ìœ¼ë¡œ í”¼ë“œë°± ì…ë ¥í•˜ê¸°
                    </button>
                  )}
                </div>
              )}
            </div>

            {/* ë‚´ë³´ë‚´ê¸° ì„¹ì…˜ */}
            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <h3 className="text-xl font-bold text-white mb-4">ğŸ“¤ ì½˜í…ì¸  ë‚´ë³´ë‚´ê¸°</h3>
              
              <div className="grid grid-cols-3 gap-3 mb-4">
                <button
                  onClick={() => setExportFormat('shopify')}
                  className={`p-4 rounded-lg flex flex-col items-center gap-2 transition-all ${
                    exportFormat === 'shopify' 
                      ? 'bg-blue-500 text-white' 
                      : 'bg-white/10 text-white/70 hover:bg-white/20'
                  }`}
                >
                  <Code className="w-6 h-6" />
                  <span className="font-semibold">Shopify HTML</span>
                  <span className="text-xs opacity-80">ë¸”ë¡œê·¸ ê²Œì‹œìš©</span>
                </button>
                
                <button
                  onClick={() => setExportFormat('email')}
                  className={`p-4 rounded-lg flex flex-col items-center gap-2 transition-all ${
                    exportFormat === 'email' 
                      ? 'bg-blue-500 text-white' 
                      : 'bg-white/10 text-white/70 hover:bg-white/20'
                  }`}
                >
                  <Mail className="w-6 h-6" />
                  <span className="font-semibold">Email Template</span>
                  <span className="text-xs opacity-80">Shopify Emailìš©</span>
                </button>
                
                <button
                  onClick={() => setExportFormat('plaintext')}
                  className={`p-4 rounded-lg flex flex-col items-center gap-2 transition-all ${
                    exportFormat === 'plaintext' 
                      ? 'bg-blue-500 text-white' 
                      : 'bg-white/10 text-white/70 hover:bg-white/20'
                  }`}
                >
                  <FileText className="w-6 h-6" />
                  <span className="font-semibold">Plain Text</span>
                  <span className="text-xs opacity-80">ë°±ì—…/ì°¸ê³ ìš©</span>
                </button>
              </div>

              <div className="bg-black/30 rounded-lg p-4 mb-4 max-h-96 overflow-auto">
                <pre className="text-white text-xs font-mono whitespace-pre-wrap">{getExportContent()}</pre>
              </div>

              <div className="flex gap-3">
                <button
                  onClick={() => copyToClipboard(getExportContent())}
                  className="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2"
                >
                  <Copy className="w-5 h-5" /> í´ë¦½ë³´ë“œì— ë³µì‚¬
                </button>
                <button
                  onClick={() => setStage('complete')}
                  className="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2"
                >
                  <CheckCircle className="w-5 h-5" /> ë¦´ë¦¬ìŠ¤ ìŠ¹ì¸
                </button>
              </div>
            </div>

            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <h3 className="text-xl font-bold text-white mb-3">ğŸ’¡ ì‚¬ìš© ê°€ì´ë“œ</h3>
              <div className="space-y-3 text-white/80 text-sm">
                <div>
                  <strong className="text-white">Shopify ë¸”ë¡œê·¸:</strong> Shopify Admin â†’ ì˜¨ë¼ì¸ ìŠ¤í† ì–´ â†’ ë¸”ë¡œê·¸ ê¸€ â†’ HTML ëª¨ë“œë¡œ ì „í™˜í•˜ì—¬ ë¶™ì—¬ë„£ê¸°
                </div>
                <div>
                  <strong className="text-white">Shopify Email:</strong> ë§ˆì¼€íŒ… â†’ ìº í˜ì¸ ë§Œë“¤ê¸° â†’ HTML í¸ì§‘ê¸°ì— ë¶™ì—¬ë„£ê¸°
                </div>
                <div>
                  <strong className="text-white">ì´ë¯¸ì§€:</strong> PLACEHOLDER.jpgë¥¼ Shopify Filesì— ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ URLë¡œ êµì²´í•˜ì„¸ìš”
                </div>
                <div>
                  <strong className="text-white">SEO ë©”íƒ€ë°ì´í„°:</strong> Shopify ë¸”ë¡œê·¸ í¸ì§‘ í™”ë©´ì—ì„œ "ê²€ìƒ‰ ì—”ì§„ ìµœì í™”" ì„¹ì…˜ì— ë³„ë„ ì…ë ¥
                </div>
                <div className="bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 mt-3">
                  <strong className="text-yellow-300">ğŸ“Œ íŒ©íŠ¸ì²´í¬ & ì¶œì²˜ í™•ì¸:</strong>
                  <p className="text-yellow-200/80 mt-1">
                    ë…¸ë€ìƒ‰ ë°•ìŠ¤(ğŸ“Œ íŒ©íŠ¸ì²´í¬ í•„ìš”)ì™€ íŒŒë€ìƒ‰ ë°•ìŠ¤(ğŸ“š ì¶œì²˜ ì œì•ˆ)ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 
                    ê²Œì‹œ ì „ì— ë°˜ë“œì‹œ í•´ë‹¹ ë‚´ìš©ì„ ê²€ì¦í•˜ê³ , ì‹¤ì œ ì¶œì²˜ ë§í¬ë¡œ êµì²´í•˜ì„¸ìš”.
                  </p>
                </div>
              </div>
            </div>

            <button onClick={resetAll} className="w-full px-6 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg">ì²˜ìŒìœ¼ë¡œ</button>
          </div>
        )}

        {/* ì™„ë£Œ ë‹¨ê³„ */}
        {stage === 'complete' && (
          <div className="space-y-4">
            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20 text-center">
              <CheckCircle className="w-16 h-16 text-green-400 mx-auto mb-4" />
              <h2 className="text-3xl font-bold text-white mb-2">ì½˜í…ì¸  ì œì‘ ì™„ë£Œ!</h2>
              <p className="text-blue-200 mb-6">ëª¨ë“  ì²´í¬í¬ì¸íŠ¸ë¥¼ í†µê³¼í–ˆìŠµë‹ˆë‹¤.</p>
            </div>

            {/* ë‹¤êµ­ì–´ ë²ˆì—­ ì„¹ì…˜ */}
            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
              <div className="flex items-center gap-3 mb-4">
                <Globe className="w-6 h-6 text-blue-400" />
                <h3 className="text-2xl font-bold text-white">ë‹¤êµ­ì–´ ë²ˆì—­</h3>
              </div>
              <p className="text-white/60 text-sm mb-6">
                ì™„ì„±ëœ ì½˜í…ì¸ ë¥¼ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ë²ˆì—­í•˜ì—¬ ê¸€ë¡œë²Œ ë…ìì—ê²Œ ì „ë‹¬í•˜ì„¸ìš”. ë¬¸ë§¥ì„ ê³ ë ¤í•œ ìì—°ìŠ¤ëŸ¬ìš´ ì˜ì—­ìœ¼ë¡œ ë²ˆì—­ë©ë‹ˆë‹¤.
              </p>

              <div className="grid grid-cols-3 gap-4 mb-6">
                <button
                  onClick={() => translateContent('ko')}
                  disabled={loading || translatingLang === 'ko'}
                  className={`p-6 rounded-xl border-2 transition-all ${
                    translations.ko 
                      ? 'bg-green-500/20 border-green-400' 
                      : 'bg-white/5 border-white/20 hover:border-blue-400 hover:bg-white/10'
                  } disabled:opacity-50 disabled:cursor-not-allowed`}
                >
                  <div className="text-4xl mb-2">ğŸ‡°ğŸ‡·</div>
                  <div className="text-white font-semibold">í•œêµ­ì–´</div>
                  {translations.ko && <div className="text-green-400 text-xs mt-1">âœ“ ë²ˆì—­ ì™„ë£Œ</div>}
                  {translatingLang === 'ko' && <div className="text-yellow-400 text-xs mt-1 animate-pulse">ë²ˆì—­ ì¤‘...</div>}
                </button>

                <button
                  onClick={() => translateContent('ja')}
                  disabled={loading || translatingLang === 'ja'}
                  className={`p-6 rounded-xl border-2 transition-all ${
                    translations.ja 
                      ? 'bg-green-500/20 border-green-400' 
                      : 'bg-white/5 border-white/20 hover:border-blue-400 hover:bg-white/10'
                  } disabled:opacity-50 disabled:cursor-not-allowed`}
                >
                  <div className="text-4xl mb-2">ğŸ‡¯ğŸ‡µ</div>
                  <div className="text-white font-semibold">æ—¥æœ¬èª</div>
                  {translations.ja && <div className="text-green-400 text-xs mt-1">âœ“ ç¿»è¨³å®Œäº†</div>}
                  {translatingLang === 'ja' && <div className="text-yellow-400 text-xs mt-1 animate-pulse">ç¿»è¨³ä¸­...</div>}
                </button>

                <button
                  onClick={() => translateContent('en')}
                  disabled={loading || translatingLang === 'en'}
                  className={`p-6 rounded-xl border-2 transition-all ${
                    translations.en 
                      ? 'bg-green-500/20 border-green-400' 
                      : 'bg-white/5 border-white/20 hover:border-blue-400 hover:bg-white/10'
                  } disabled:opacity-50 disabled:cursor-not-allowed`}
                >
                  <div className="text-4xl mb-2">ğŸ‡ºğŸ‡¸</div>
                  <div className="text-white font-semibold">English</div>
                  {translations.en && <div className="text-green-400 text-xs mt-1">âœ“ Translated</div>}
                  {translatingLang === 'en' && <div className="text-yellow-400 text-xs mt-1 animate-pulse">Translating...</div>}
                </button>
              </div>

              {/* ë²ˆì—­ëœ ì½˜í…ì¸  í‘œì‹œ */}
              {Object.keys(translations).length > 0 && (
                <div className="space-y-4">
                  <h4 className="text-white font-semibold">ë²ˆì—­ëœ ì½˜í…ì¸ </h4>
                  
                  {Object.entries(translations).map(([lang, text]) => (
                    <div key={lang} className="bg-black/30 rounded-lg p-4">
                      <div className="flex items-center justify-between mb-3">
                        <span className="text-white font-semibold flex items-center gap-2">
                          {lang === 'ko' && 'ğŸ‡°ğŸ‡· í•œêµ­ì–´'}
                          {lang === 'ja' && 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'}
                          {lang === 'en' && 'ğŸ‡ºğŸ‡¸ English'}
                        </span>
                        <button
                          onClick={() => copyToClipboard(text)}
                          className="px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded flex items-center gap-1"
                        >
                          <Copy className="w-3 h-3" /> ë³µì‚¬
                        </button>
                      </div>
                      <div className="text-white/80 text-sm whitespace-pre-wrap max-h-60 overflow-y-auto border-t border-white/10 pt-3">
                        {text.substring(0, 500)}...
                      </div>
                    </div>
                  ))}
                </div>
              )}
            </div>

            <button
              onClick={resetAll}
              className="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-lg"
            >
              ìƒˆ ì½˜í…ì¸  ì œì‘í•˜ê¸°
            </button>
          </div>
        )}
      </div>
    </div>
  );
};

const Step = ({ active, completed, icon, label }) => (
  <div className="flex flex-col items-center gap-2">
    <div className={`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all ${
      completed ? 'bg-green-500 border-green-400' :
      active ? 'bg-blue-500 border-blue-400' :
      'bg-white/10 border-white/30'
    }`}>
      {React.cloneElement(icon, { className: 'w-6 h-6 text-white' })}
    </div>
    <span className={`text-sm font-semibold ${active || completed ? 'text-white' : 'text-white/50'}`}>
      {label}
    </span>
  </div>
);

export default DCENTBlogAgent;
    
    // ë Œë”ë§
    ReactDOM.render(<DCENTBlogAgent />, document.getElementById('root'));
  </script>
</body>
</html>
